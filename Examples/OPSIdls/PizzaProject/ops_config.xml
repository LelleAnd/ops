<?xml version="1.0" encoding="UTF-8"?>
<!--
 Description:
-->
<root>
  <ops_config type = "DefaultOPSConfigImpl">
    <domains>
      <!-- First domain -->
      <element type = "Domain">
        <domainID>PizzaDomain</domainID>
        <domainAddress>234.5.6.8</domainAddress>
        <localInterface>127.0.0.1</localInterface>
        <localInterface>192.168.0.0/24</localInterface>
        <!--optional <timeToLive>1</timeToLive>-->
        <!--optional <inSocketBufferSize>16000000</inSocketBufferSize>-->
        <!--optional <outSocketBufferSize>16000000</outSocketBufferSize>-->
        <!--optional <optNonVirt>false</optNonVirt>-->
        <heartbeatPeriod>0</heartbeatPeriod>
        <heartbeatTimeout>3000</heartbeatTimeout>
        <!-- metaDataMcPort is necessary for UDP transport to work -->
        <metaDataMcPort>9494</metaDataMcPort>
        <debugMcPort>9999</debugMcPort>

        <channels>
          <element type = "Channel">
            <name>Channel-A</name>
            <linktype>multicast</linktype>
            <!-- We may override domainAddress/localInterface given above for specific multicast Topics -->
            <address>236.12.13.14</address>
            <localInterface>127.0.0.1</localInterface>
            <localInterface>192.168.0.0/24</localInterface>
            <port>6680</port>
            <inSocketBufferSize>16000000</inSocketBufferSize>
            <outSocketBufferSize>16000000</outSocketBufferSize>
          </element>

          <element type = "Channel">
            <name>Channel-B</name>
            <linktype>tcp</linktype>
            <zaddress>127.0.0.1</zaddress>
            <zport>6680</zport>
            <inSocketBufferSize>16000000</inSocketBufferSize>
            <outSocketBufferSize>16000000</outSocketBufferSize>
          </element>

          <element type = "Channel">
            <name>Channel-B2</name>
            <linktype>tcp</linktype>
            <inSocketBufferSize>16000000</inSocketBufferSize>
            <outSocketBufferSize>16000000</outSocketBufferSize>
          </element>

          <element type = "Channel">
            <name>Channel-C</name>
            <linktype>udp</linktype>
            <zaddress>127.0.0.1</zaddress>
            <zport>6680</zport>
            <inSocketBufferSize>16000000</inSocketBufferSize>
            <outSocketBufferSize>16000000</outSocketBufferSize>
          </element>
        </channels>

        <transports>
          <element type = "Transport">
            <channelID>Channel-A</channelID>
            <topics>
              <element>PizzaTopic2</element>
              <element>VessuvioTopic2</element>
            </topics>
          </element>

          <element type = "Transport">
            <channelID>Channel-B</channelID>
            <topics>
              <element>TcpPizzaTopic2</element>
              <element>TcpVessuvioTopic2</element>
            </topics>
          </element>

          <element type = "Transport">
            <channelID>Channel-B2</channelID>
            <topics>
            </topics>
          </element>

          <element type = "Transport">
            <channelID>Channel-C</channelID>
            <topics>
              <element>UdpPizzaTopic</element>
            </topics>
          </element>
        </transports>

        <topics>
          <!-- Multicast topics, different ports -->
          <element type = "Topic">
            <name>PizzaTopic</name>
            <port>6689</port>
            <dataType>pizza.PizzaData</dataType>
          </element>
          <element type = "Topic">
            <name>VessuvioTopic</name>
            <port>6690</port>
            <dataType>pizza.VessuvioData</dataType>
            <zsampleMaxSize>2100000</zsampleMaxSize>
            <zinSocketBufferSize>16000000</zinSocketBufferSize>
            <zoutSocketBufferSize>16000000</zoutSocketBufferSize>
          </element>
          <element type = "Topic">
            <name>ExtraAlltTopic</name>
            <port>6691</port>
            <dataType>pizza.special.ExtraAllt</dataType>
            <sampleMaxSize>2100000</sampleMaxSize>
            <inSocketBufferSize>16000000</inSocketBufferSize>
            <outSocketBufferSize>16000000</outSocketBufferSize>
          </element>

          <!-- Multicast topics, same port -->
          <element type = "Topic">
            <name>PizzaTopic2</name>
            <dataType>pizza.PizzaData</dataType>
          </element>
          <element type = "Topic">
            <name>VessuvioTopic2</name>
            <dataType>pizza.VessuvioData</dataType>
            <sampleMaxSize>2100000</sampleMaxSize>
          </element>

          <!-- TCP topics, different ports -->
          <element type = "Topic">
            <name>TcpPizzaTopic</name>
            <dataType>pizza.PizzaData</dataType>
            <transport>tcp</transport>
            <zport>6689</zport>
            <zaddress>127.0.0.1</zaddress>
            <zaddress>192.168.0.26</zaddress>
          </element>
          <element type = "Topic">
            <name>TcpVessuvioTopic</name>
            <dataType>pizza.VessuvioData</dataType>
            <transport>tcp</transport>
            <zport>6690</zport>
            <zsampleMaxSize>2100000</zsampleMaxSize>
            <zinSocketBufferSize>16000000</zinSocketBufferSize>
            <zoutSocketBufferSize>16000000</zoutSocketBufferSize>
            <zaddress>127.0.0.1</zaddress>
            <zaddress>192.168.0.26</zaddress>
          </element>

          <!-- TCP topics, same port -->
          <element type = "Topic">
            <name>TcpPizzaTopic2</name>
            <dataType>pizza.PizzaData</dataType>
          </element>
          <element type = "Topic">
            <name>TcpVessuvioTopic2</name>
            <dataType>pizza.VessuvioData</dataType>
            <sampleMaxSize>2100000</sampleMaxSize>
          </element>

          <!-- UDP topics, different ports -->
          <element type = "Topic">
            <name>UdpPizzaTopic</name>
            <dataType>pizza.PizzaData</dataType>
          </element>
          <element type = "Topic">
            <name>UdpVessuvioTopic</name>
            <dataType>pizza.VessuvioData</dataType>
            <transport>udp</transport>
            <address>127.0.0.1</address>
            <port>6680</port>
            <zsampleMaxSize>2100000</zsampleMaxSize>
            <zinSocketBufferSize>16000000</zinSocketBufferSize>
            <zoutSocketBufferSize>16000000</zoutSocketBufferSize>
          </element>

        </topics>
      </element>


      <!-- Second domain -->
      <element type = "Domain">
        <domainID>OtherPizzaDomain</domainID>
        <domainAddress>234.1.6.8</domainAddress>
        <localInterface>127.0.0.1</localInterface>
        <!--optional <timeToLive>1</timeToLive>-->
        <!--optional <inSocketBufferSize>16000000</inSocketBufferSize>-->
        <!--optional <outSocketBufferSize>16000000</outSocketBufferSize>-->
        <metaDataMcPort>0</metaDataMcPort>
        <topics>
          <!-- Multicast topics, different ports, but same as in other domain -->
          <element type = "Topic">
            <name>OtherPizzaTopic</name>
            <port>6689</port>
            <dataType>pizza.PizzaData</dataType>
          </element>
          <element type = "Topic">
            <name>OtherVessuvioTopic</name>
            <port>6690</port>
            <dataType>pizza.VessuvioData</dataType>
            <sampleMaxSize>2100000</sampleMaxSize>
            <inSocketBufferSize>16000000</inSocketBufferSize>
            <outSocketBufferSize>16000000</outSocketBufferSize>
          </element>
        </topics>

      </element>
    </domains>
  </ops_config>
</root>
